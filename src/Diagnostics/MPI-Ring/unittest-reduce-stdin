{"Job": {"Name": "mpi test created by chenling", "TargetNodes": ["evancvmss000001", "evancvmss000004", "evancvmss000005"], "CommandLine": null, "DiagnosticTest": {"Category": "mpi", "Description": null, "Name": "ring", "Parameters": null, "Arguments": null}, "Request": null, "FailJobOnTaskFailure": false, "State": 3, "Events": null, "RequeueCount": 0, "UpdatedAt": "0001-01-01T00:00:00+00:00", "Progress": 1.0, "Type": 1, "Id": 11005, "CreatedAt": "2018-06-26T14:40:26.707568+00:00"}, "Tasks": [{"Node": "evancvmss000001", "ParentIds": [100000000, 100000001, 100000002, 0], "CustomizedData": "evancvmss000001,evancvmss000004,evancvmss000005", "CommandLine": "TIMEFORMAT='%3R' && (time timeout 30s bash -c 'source /opt/intel/impi/`ls /opt/intel/impi`/bin64/mpivars.sh && mpirun -hosts evancvmss000001,evancvmss000004,evancvmss000005 -ppn 1 IMB-MPI1 -npmin 3 sendrecv' >stdout 2>stderr) 2>timeResult && cat stdout | tail -n29 | head -n25 > raw && cat raw | tail -n +2 | awk '{print $5,$6}' | tr ' ' '\n' | sed -n '1p;$p' > data && echo -n '{\"Latency\":' > json && cat data | head -n1 | tr -d '\n' >> json && echo -n ',\"Throughput\":' >> json && cat data | tail -n1 | tr -d '\n' >> json && echo -n ',\"Detail\":\"' >> json && cat raw | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\",\"Time\":' >> json && cat timeResult | tr -d '\n' >> json && echo -n '}' >> json && cat json || (errorcode=$? && echo -n '{\"Latency\":-1,\"Throughput\":-1,\"Time\":-1,\"Detail\":\"' > json && cat stderr | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\"}' >> json && cat json && exit $errorcode)", "JobId": 11005, "ChildIds": [2147483647], "State": 3, "RequeueCount": 0, "RemainingParentIds": [], "Id": 1, "JobType": 1}, {"Node": "evancvmss000001", "ParentIds": [0], "CustomizedData": "evancvmss000001", "CommandLine": "TIMEFORMAT='%3R' && (time timeout 10s bash -c 'source /opt/intel/impi/`ls /opt/intel/impi`/bin64/mpivars.sh && mpirun -env I_MPI_SHM_LMT=shm IMB-MPI1 sendrecv' >stdout 2>stderr) 2>timeResult && cat stdout | tail -n29 | head -n25 > raw && cat raw | tail -n +2 | awk '{print $5,$6}' | tr ' ' '\n' | sed -n '1p;$p' > data && echo -n '{\"Latency\":' > json && cat data | head -n1 | tr -d '\n' >> json && echo -n ',\"Throughput\":' >> json && cat data | tail -n1 | tr -d '\n' >> json && echo -n ',\"Detail\":\"' >> json && cat raw | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\",\"Time\":' >> json && cat timeResult | tr -d '\n' >> json && echo -n '}' >> json && cat json || (errorcode=$? && echo -n '{\"Latency\":-1,\"Throughput\":-1,\"Time\":-1,\"Detail\":\"' > json && cat stderr | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\"}' >> json && cat json && exit $errorcode)", "JobId": 11005, "ChildIds": [1, 2147483647], "State": 3, "RequeueCount": 0, "RemainingParentIds": [], "Id": 100000000, "JobType": 1}, {"Node": "evancvmss000004", "ParentIds": [0], "CustomizedData": "evancvmss000004", "CommandLine": "TIMEFORMAT='%3R' && (time timeout 10s bash -c 'source /opt/intel/impi/`ls /opt/intel/impi`/bin64/mpivars.sh && mpirun -env I_MPI_SHM_LMT=shm IMB-MPI1 sendrecv' >stdout 2>stderr) 2>timeResult && cat stdout | tail -n29 | head -n25 > raw && cat raw | tail -n +2 | awk '{print $5,$6}' | tr ' ' '\n' | sed -n '1p;$p' > data && echo -n '{\"Latency\":' > json && cat data | head -n1 | tr -d '\n' >> json && echo -n ',\"Throughput\":' >> json && cat data | tail -n1 | tr -d '\n' >> json && echo -n ',\"Detail\":\"' >> json && cat raw | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\",\"Time\":' >> json && cat timeResult | tr -d '\n' >> json && echo -n '}' >> json && cat json || (errorcode=$? && echo -n '{\"Latency\":-1,\"Throughput\":-1,\"Time\":-1,\"Detail\":\"' > json && cat stderr | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\"}' >> json && cat json && exit $errorcode)", "JobId": 11005, "ChildIds": [1, 2147483647], "State": 3, "RequeueCount": 0, "RemainingParentIds": [], "Id": 100000001, "JobType": 1}, {"Node": "evancvmss000005", "ParentIds": [0], "CustomizedData": "evancvmss000005", "CommandLine": "TIMEFORMAT='%3R' && (time timeout 10s bash -c 'source /opt/intel/impi/`ls /opt/intel/impi`/bin64/mpivars.sh && mpirun -env I_MPI_SHM_LMT=shm IMB-MPI1 sendrecv' >stdout 2>stderr) 2>timeResult && cat stdout | tail -n29 | head -n25 > raw && cat raw | tail -n +2 | awk '{print $5,$6}' | tr ' ' '\n' | sed -n '1p;$p' > data && echo -n '{\"Latency\":' > json && cat data | head -n1 | tr -d '\n' >> json && echo -n ',\"Throughput\":' >> json && cat data | tail -n1 | tr -d '\n' >> json && echo -n ',\"Detail\":\"' >> json && cat raw | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\",\"Time\":' >> json && cat timeResult | tr -d '\n' >> json && echo -n '}' >> json && cat json || (errorcode=$? && echo -n '{\"Latency\":-1,\"Throughput\":-1,\"Time\":-1,\"Detail\":\"' > json && cat stderr | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\"}' >> json && cat json && exit $errorcode)", "JobId": 11005, "ChildIds": [1, 2147483647], "State": 3, "RequeueCount": 0, "RemainingParentIds": [], "Id": 100000002, "JobType": 1}], "TaskResults": [{"ProcessIds": "", "NodeName": "evancvmss000001", "NumberOfProcesses": 0, "WorkingSet": 21700, "ResultKey": "taskresult-0000011005-0000000000-0000000001", "CommandLine": "TIMEFORMAT='%3R' && (time timeout 30s bash -c 'source /opt/intel/impi/`ls /opt/intel/impi`/bin64/mpivars.sh && mpirun -hosts evancvmss000001,evancvmss000004,evancvmss000005 -ppn 1 IMB-MPI1 -npmin 3 sendrecv' >stdout 2>stderr) 2>timeResult && cat stdout | tail -n29 | head -n25 > raw && cat raw | tail -n +2 | awk '{print $5,$6}' | tr ' ' '\n' | sed -n '1p;$p' > data && echo -n '{\"Latency\":' > json && cat data | head -n1 | tr -d '\n' >> json && echo -n ',\"Throughput\":' >> json && cat data | tail -n1 | tr -d '\n' >> json && echo -n ',\"Detail\":\"' >> json && cat raw | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\",\"Time\":' >> json && cat timeResult | tr -d '\n' >> json && echo -n '}' >> json && cat json || (errorcode=$? && echo -n '{\"Latency\":-1,\"Throughput\":-1,\"Time\":-1,\"Detail\":\"' > json && cat stderr | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\"}' >> json && cat json && exit $errorcode)", "UserProcessorTime": 5660, "JobId": 11005, "FilteredResult": null, "KernelProcessorTime": 13680, "TaskRequeueCount": 0, "Exited": true, "TaskId": 1, "Message": "{\"Latency\":355.14,\"Throughput\":225.89,\"Detail\":\"       #bytes #repetitions  t_min[usec]  t_max[usec]  t_avg[usec]   Mbytes/sec\\n            0         1000       354.51       355.70       355.14         0.00\\n            1         1000       345.39       345.89       345.71         0.01\\n            2         1000       393.18       393.74       393.51         0.01\\n            4         1000       376.83       377.36       377.13         0.02\\n            8         1000       399.24       400.18       399.66         0.04\\n           16         1000       415.67       416.30       415.89         0.08\\n           32         1000       404.67       405.20       404.85         0.16\\n           64         1000       365.32       365.52       365.44         0.35\\n          128         1000       380.54       380.79       380.70         0.67\\n          256         1000       391.00       391.44       391.26         1.31\\n          512         1000       389.23       389.64       389.42         2.63\\n         1024         1000       393.26       394.78       394.09         5.19\\n         2048         1000       378.45       378.68       378.58        10.82\\n         4096         1000       388.84       390.02       389.26        21.00\\n         8192         1000       450.22       451.11       450.73        36.32\\n        16384         1000       479.46       479.68       479.54        68.31\\n        32768         1000       569.53       569.89       569.65       115.00\\n        65536          640       705.20       706.39       705.69       185.55\\n       131072          320      1173.42      1175.40      1174.35       223.03\\n       262144          160      2378.23      2385.53      2382.02       219.78\\n       524288           80      4656.49      4691.68      4669.73       223.50\\n      1048576           40      9131.18      9268.53      9210.66       226.27\\n      2097152           20     18049.35     18536.45     18373.58       226.27\\n      4194304           10     34728.22     37135.70     36285.31       225.89\\n\",\"Time\":19.634}", "PrimaryTask": true, "ExitCode": 0}, {"ProcessIds": "", "NodeName": "evancvmss000001", "NumberOfProcesses": 0, "WorkingSet": 42328, "ResultKey": "taskresult-0000011005-0000000000-0100000000", "CommandLine": "TIMEFORMAT='%3R' && (time timeout 10s bash -c 'source /opt/intel/impi/`ls /opt/intel/impi`/bin64/mpivars.sh && mpirun -env I_MPI_SHM_LMT=shm IMB-MPI1 sendrecv' >stdout 2>stderr) 2>timeResult && cat stdout | tail -n29 | head -n25 > raw && cat raw | tail -n +2 | awk '{print $5,$6}' | tr ' ' '\n' | sed -n '1p;$p' > data && echo -n '{\"Latency\":' > json && cat data | head -n1 | tr -d '\n' >> json && echo -n ',\"Throughput\":' >> json && cat data | tail -n1 | tr -d '\n' >> json && echo -n ',\"Detail\":\"' >> json && cat raw | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\",\"Time\":' >> json && cat timeResult | tr -d '\n' >> json && echo -n '}' >> json && cat json || (errorcode=$? && echo -n '{\"Latency\":-1,\"Throughput\":-1,\"Time\":-1,\"Detail\":\"' > json && cat stderr | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\"}' >> json && cat json && exit $errorcode)", "UserProcessorTime": 520, "JobId": 11005, "FilteredResult": null, "KernelProcessorTime": 100, "TaskRequeueCount": 0, "Exited": true, "TaskId": 100000000, "Message": "{\"Latency\":0.55,\"Throughput\":8019.60,\"Detail\":\"       #bytes #repetitions  t_min[usec]  t_max[usec]  t_avg[usec]   Mbytes/sec\\n            0         1000         0.55         0.55         0.55         0.00\\n            1         1000         0.45         0.45         0.45         4.42\\n            2         1000         0.42         0.42         0.42         9.53\\n            4         1000         0.42         0.42         0.42        19.04\\n            8         1000         0.43         0.43         0.43        37.30\\n           16         1000         0.43         0.43         0.43        74.61\\n           32         1000         0.43         0.43         0.43       150.55\\n           64         1000         0.45         0.45         0.45       286.94\\n          128         1000         0.69         0.69         0.69       369.87\\n          256         1000         0.59         0.59         0.59       872.25\\n          512         1000         0.97         0.97         0.97      1053.46\\n         1024         1000         0.66         0.66         0.66      3102.18\\n         2048         1000         0.97         0.97         0.97      4205.60\\n         4096         1000         1.77         1.77         1.77      4638.82\\n         8192         1000         2.11         2.11         2.11      7775.46\\n        16384         1000         4.37         4.37         4.37      7500.08\\n        32768         1000         7.99         7.99         7.99      8203.11\\n        65536          640        27.42        27.42        27.42      4780.42\\n       131072          320        42.02        42.03        42.03      6236.82\\n       262144          160        76.12        76.14        76.13      6885.53\\n       524288           80       137.89       137.95       137.92      7601.19\\n      1048576           40       390.32       390.50       390.41      5370.43\\n      2097152           20       544.10       544.64       544.37      7701.01\\n      4194304           10      1041.01      1046.01      1043.51      8019.60\\n\",\"Time\":0.317}", "PrimaryTask": true, "ExitCode": 0}, {"ProcessIds": "", "NodeName": "evancvmss000004", "NumberOfProcesses": 0, "WorkingSet": 0, "ResultKey": "taskresult-0000011005-0000000000-0100000001", "CommandLine": "TIMEFORMAT='%3R' && (time timeout 10s bash -c 'source /opt/intel/impi/`ls /opt/intel/impi`/bin64/mpivars.sh && mpirun -env I_MPI_SHM_LMT=shm IMB-MPI1 sendrecv' >stdout 2>stderr) 2>timeResult && cat stdout | tail -n29 | head -n25 > raw && cat raw | tail -n +2 | awk '{print $5,$6}' | tr ' ' '\n' | sed -n '1p;$p' > data && echo -n '{\"Latency\":' > json && cat data | head -n1 | tr -d '\n' >> json && echo -n ',\"Throughput\":' >> json && cat data | tail -n1 | tr -d '\n' >> json && echo -n ',\"Detail\":\"' >> json && cat raw | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\",\"Time\":' >> json && cat timeResult | tr -d '\n' >> json && echo -n '}' >> json && cat json || (errorcode=$? && echo -n '{\"Latency\":-1,\"Throughput\":-1,\"Time\":-1,\"Detail\":\"' > json && cat stderr | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\"}' >> json && cat json && exit $errorcode)", "UserProcessorTime": 0, "JobId": 11005, "FilteredResult": null, "KernelProcessorTime": 0, "TaskRequeueCount": 0, "Exited": true, "TaskId": 100000001, "Message": "{\"Latency\":0.51,\"Throughput\":7138.67,\"Detail\":\"       #bytes #repetitions  t_min[usec]  t_max[usec]  t_avg[usec]   Mbytes/sec\\n            0         1000         0.51         0.51         0.51         0.00\\n            1         1000         0.55         0.55         0.55         3.62\\n            2         1000         0.47         0.47         0.47         8.55\\n            4         1000         0.63         0.63         0.63        12.76\\n            8         1000         0.48         0.48         0.48        33.34\\n           16         1000         0.58         0.58         0.58        55.35\\n           32         1000         0.54         0.54         0.54       119.20\\n           64         1000         0.63         0.63         0.63       204.13\\n          128         1000         0.60         0.60         0.60       429.50\\n          256         1000         0.77         0.77         0.77       662.19\\n          512         1000         0.70         0.70         0.70      1458.39\\n         1024         1000         0.81         0.81         0.81      2537.65\\n         2048         1000         1.65         1.65         1.65      2482.64\\n         4096         1000         1.40         1.40         1.40      5863.44\\n         8192         1000         7.26         7.26         7.26      2257.02\\n        16384         1000         4.50         4.50         4.50      7288.10\\n        32768         1000         9.37         9.37         9.37      6990.61\\n        65536          640        29.23        29.24        29.23      4483.28\\n       131072          320        50.90        50.91        50.91      5149.18\\n       262144          160       128.92       128.94       128.93      4066.05\\n       524288           80       145.24       145.27       145.26      7217.90\\n      1048576           40       437.07       437.20       437.14      4796.78\\n      2097152           20       555.30       555.50       555.40      7550.46\\n      4194304           10      1174.40      1175.09      1174.75      7138.67\\n\",\"Time\":0.344}", "PrimaryTask": true, "ExitCode": 0}, {"ProcessIds": "", "NodeName": "evancvmss000005", "NumberOfProcesses": 0, "WorkingSet": 0, "ResultKey": "taskresult-0000011005-0000000000-0100000002", "CommandLine": "TIMEFORMAT='%3R' && (time timeout 10s bash -c 'source /opt/intel/impi/`ls /opt/intel/impi`/bin64/mpivars.sh && mpirun -env I_MPI_SHM_LMT=shm IMB-MPI1 sendrecv' >stdout 2>stderr) 2>timeResult && cat stdout | tail -n29 | head -n25 > raw && cat raw | tail -n +2 | awk '{print $5,$6}' | tr ' ' '\n' | sed -n '1p;$p' > data && echo -n '{\"Latency\":' > json && cat data | head -n1 | tr -d '\n' >> json && echo -n ',\"Throughput\":' >> json && cat data | tail -n1 | tr -d '\n' >> json && echo -n ',\"Detail\":\"' >> json && cat raw | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\",\"Time\":' >> json && cat timeResult | tr -d '\n' >> json && echo -n '}' >> json && cat json || (errorcode=$? && echo -n '{\"Latency\":-1,\"Throughput\":-1,\"Time\":-1,\"Detail\":\"' > json && cat stderr | awk '{printf \"%s\\\\n\", $0}' >> json && echo -n '\"}' >> json && cat json && exit $errorcode)", "UserProcessorTime": 0, "JobId": 11005, "FilteredResult": null, "KernelProcessorTime": 0, "TaskRequeueCount": 0, "Exited": true, "TaskId": 100000002, "Message": "{\"Latency\":0.41,\"Throughput\":5810.12,\"Detail\":\"       #bytes #repetitions  t_min[usec]  t_max[usec]  t_avg[usec]   Mbytes/sec\\n            0         1000         0.41         0.41         0.41         0.00\\n            1         1000         0.44         0.44         0.44         4.51\\n            2         1000         0.41         0.41         0.41         9.81\\n            4         1000         0.55         0.55         0.55        14.52\\n            8         1000         0.62         0.62         0.62        25.64\\n           16         1000         0.49         0.49         0.49        65.44\\n           32         1000         0.52         0.52         0.52       123.31\\n           64         1000         0.49         0.49         0.49       262.79\\n          128         1000         0.72         0.72         0.72       354.60\\n          256         1000         0.63         0.63         0.63       815.29\\n          512         1000         0.83         0.83         0.83      1232.06\\n         1024         1000         0.69         0.69         0.69      2954.91\\n         2048         1000         1.41         1.41         1.41      2902.99\\n         4096         1000         2.15         2.15         2.15      3815.63\\n         8192         1000         2.62         2.62         2.62      6263.17\\n        16384         1000         4.46         4.46         4.46      7350.46\\n        32768         1000         8.99         8.99         8.99      7286.75\\n        65536          640        31.02        31.02        31.02      4224.73\\n       131072          320        43.97        43.98        43.98      5959.92\\n       262144          160        77.09        77.12        77.11      6798.52\\n       524288           80       263.81       263.89       263.85      3973.57\\n      1048576           40       291.85       291.97       291.91      7182.68\\n      2097152           20       564.10       564.35       564.22      7432.11\\n      4194304           10      1443.51      1443.79      1443.65      5810.12\\n\",\"Time\":0.362}", "PrimaryTask": true, "ExitCode": 0}]}