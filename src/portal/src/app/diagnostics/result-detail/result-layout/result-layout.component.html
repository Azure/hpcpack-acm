<div class="title main">
  <!-- <i class="material-icons" [ngClass]="result.state">{{stateIcon(result.state)}}</i> -->
  <div class="name">{{result.name}}</div>
  <app-back-button></app-back-button>
</div>
<div class="area-title">
  <i class="material-icons title-icon">equalizer</i>
  <div>OVERVIEW</div>
</div>
<mat-tab-group>
  <mat-tab label="Latency">
    <div class="chart-type">
      <div class="chart-btn" [class.active]="activeMode == 'total'" (click)="setActiveMode('total')">Total</div>
      <div class="chart-btn" [class.active]="activeMode == 'node'" (click)="setActiveMode('node')">By Node</div>
    </div>
    <div class="select-node" *ngIf="activeMode == 'node'">
      <mat-form-field>
        <mat-select placeholder="Select Node" [(ngModel)]="selectedNode">
          <mat-option *ngFor="let node of nodes" [value]="node" style="font-size: .9em;">
            {{ node }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="overview-chart">
      <chart type="horizontalBar" class="col-lg-5" [data]="overviewLatencyData" [options]="overviewLatencyOption">
      </chart>
      <div class="result-pair col-lg-4">
        <div class="overview-info">
          <div class="overview-title"> Best Pairs </div>
          <div class="pair-list" *ngFor="let p of totalBestPairs">
            {{p}}
          </div>
        </div>
        <div class="overview-info">
          <div class="overview-title"> Bad Pairs </div>
          <div class="pair-list" *ngFor="let p of totalBadPairs">
            <div>{{p.Pair}}</div>
            <div>{{p.Value}} us</div>
          </div>
        </div>
      </div>
      <div class="result-detail col-lg-3">
        <div class="overview-info">
          <div class="overview-title"> Average </div>
          <div>{{average}} us</div>
        </div>
        <div class="overview-info">
          <div class="overview-title"> Median </div>
          <div>{{median}} us</div>
        </div>
        <div class="overview-info">
          <div class="overview-title"> Passed </div>
          <div>{{passed}}</div>
        </div>
        <div class="overview-info">
          <div class="overview-title"> Standard Deviation </div>
          <div>{{standardDeviation}}</div>
        </div>
      </div>
    </div>
  </mat-tab>
  <mat-tab label="Throughput">
    <chart type="horizontalBar" class="bar-chart" [data]="overviewLatencyData" [options]="overviewLatencyOption">
    </chart>
  </mat-tab>
</mat-tab-group>

<!-- <div class="task-result-info">
  <div class="aggregationResult">
    {{result.aggregationResult}}
  </div>
  <chart type="doughnut" [data]="overviewData" [options]="overviewOption"></chart>
</div> -->

<div class="area-title">
  <i class="material-icons title-icon">widgets</i>
  <div>TASKS</div>
</div>
<div class="nodes">
  <ng-container *ngTemplateOutlet="nodesTemplate; context: result"></ng-container>
</div>